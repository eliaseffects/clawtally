{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/eliasstevenson/Desktop/Projects/clawboard/components/LeaderboardTable.tsx"],"sourcesContent":["import { LeaderboardCategory, LeaderboardEntry } from \"@/lib/types\";\n\ninterface LeaderboardTableProps {\n  entries: LeaderboardEntry[];\n  category: LeaderboardCategory;\n}\n\nconst formatValue = (category: LeaderboardCategory, value: number): string => {\n  if (category === \"cost\") {\n    return Intl.NumberFormat(\"en-US\", { style: \"currency\", currency: \"USD\", maximumFractionDigits: 2 }).format(value);\n  }\n\n  return Intl.NumberFormat(\"en-US\").format(value);\n};\n\nexport function LeaderboardTable({ entries, category }: LeaderboardTableProps) {\n  if (entries.length === 0) {\n    return (\n      <article className=\"rounded-2xl border border-[color:var(--border)] bg-[color:var(--bg-secondary)] p-6 text-sm text-[color:var(--text-muted)]\">\n        No shared profiles yet. Toggle sharing from your dashboard to seed the leaderboard.\n      </article>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      <article className=\"divide-y divide-[color:var(--border)] overflow-hidden rounded-2xl border border-[color:var(--border)] bg-[color:var(--bg-secondary)] md:hidden\">\n        {entries.map((entry) => (\n          <div key={`${entry.anonymousId}-${entry.rank}`} className=\"px-4 py-3\">\n            <div className=\"flex items-center justify-between gap-3\">\n              <p className=\"text-xs uppercase tracking-[0.16em] text-[color:var(--text-muted)]\">Rank</p>\n              <p className=\"font-[family-name:var(--font-mono)] text-sm\">#{entry.rank}</p>\n            </div>\n            <div className=\"mt-2 flex items-center justify-between gap-3\">\n              <p className=\"text-xs uppercase tracking-[0.16em] text-[color:var(--text-muted)]\">User</p>\n              <p className=\"text-sm\">{entry.claimed ? entry.identity ?? entry.anonymousId : entry.anonymousId}</p>\n            </div>\n            <div className=\"mt-2 flex items-center justify-between gap-3\">\n              <p className=\"text-xs uppercase tracking-[0.16em] text-[color:var(--text-muted)]\">Value</p>\n              <p className=\"font-[family-name:var(--font-mono)] text-sm text-[color:var(--text-muted)]\">\n                {formatValue(category, entry.value)}\n              </p>\n            </div>\n          </div>\n        ))}\n      </article>\n\n      <article className=\"overflow-hidden rounded-2xl border border-[color:var(--border)] bg-[color:var(--bg-secondary)]\">\n        <table className=\"hidden w-full border-collapse text-sm md:table\">\n          <thead>\n            <tr className=\"border-b border-[color:var(--border)] text-left text-xs uppercase tracking-[0.16em] text-[color:var(--text-muted)]\">\n              <th className=\"px-4 py-3\">Rank</th>\n              <th className=\"px-4 py-3\">User</th>\n              <th className=\"px-4 py-3\">Value</th>\n            </tr>\n          </thead>\n          <tbody>\n            {entries.map((entry) => (\n              <tr key={`${entry.anonymousId}-${entry.rank}`} className=\"border-b border-[color:var(--border)] last:border-b-0\">\n                <td className=\"px-4 py-3 font-[family-name:var(--font-mono)]\">#{entry.rank}</td>\n                <td className=\"px-4 py-3\">{entry.claimed ? entry.identity ?? entry.anonymousId : entry.anonymousId}</td>\n                <td className=\"px-4 py-3 font-[family-name:var(--font-mono)] text-[color:var(--text-muted)]\">\n                  {formatValue(category, entry.value)}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </article>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAOA,MAAM,cAAc,CAAC,UAA+B;IAClD,IAAI,aAAa,QAAQ;QACvB,OAAO,KAAK,YAAY,CAAC,SAAS;YAAE,OAAO;YAAY,UAAU;YAAO,uBAAuB;QAAE,GAAG,MAAM,CAAC;IAC7G;IAEA,OAAO,KAAK,YAAY,CAAC,SAAS,MAAM,CAAC;AAC3C;AAEO,SAAS,iBAAiB,EAAE,OAAO,EAAE,QAAQ,EAAyB;IAC3E,IAAI,QAAQ,MAAM,KAAK,GAAG;QACxB,qBACE,8OAAC;YAAQ,WAAU;sBAA4H;;;;;;IAInJ;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAQ,WAAU;0BAChB,QAAQ,GAAG,CAAC,CAAC,sBACZ,8OAAC;wBAA+C,WAAU;;0CACxD,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDAAqE;;;;;;kDAClF,8OAAC;wCAAE,WAAU;;4CAA8C;4CAAE,MAAM,IAAI;;;;;;;;;;;;;0CAEzE,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDAAqE;;;;;;kDAClF,8OAAC;wCAAE,WAAU;kDAAW,MAAM,OAAO,GAAG,MAAM,QAAQ,IAAI,MAAM,WAAW,GAAG,MAAM,WAAW;;;;;;;;;;;;0CAEjG,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDAAqE;;;;;;kDAClF,8OAAC;wCAAE,WAAU;kDACV,YAAY,UAAU,MAAM,KAAK;;;;;;;;;;;;;uBAZ9B,GAAG,MAAM,WAAW,CAAC,CAAC,EAAE,MAAM,IAAI,EAAE;;;;;;;;;;0BAmBlD,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC;oBAAM,WAAU;;sCACf,8OAAC;sCACC,cAAA,8OAAC;gCAAG,WAAU;;kDACZ,8OAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,8OAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,8OAAC;wCAAG,WAAU;kDAAY;;;;;;;;;;;;;;;;;sCAG9B,8OAAC;sCACE,QAAQ,GAAG,CAAC,CAAC,sBACZ,8OAAC;oCAA8C,WAAU;;sDACvD,8OAAC;4CAAG,WAAU;;gDAAgD;gDAAE,MAAM,IAAI;;;;;;;sDAC1E,8OAAC;4CAAG,WAAU;sDAAa,MAAM,OAAO,GAAG,MAAM,QAAQ,IAAI,MAAM,WAAW,GAAG,MAAM,WAAW;;;;;;sDAClG,8OAAC;4CAAG,WAAU;sDACX,YAAY,UAAU,MAAM,KAAK;;;;;;;mCAJ7B,GAAG,MAAM,WAAW,CAAC,CAAC,EAAE,MAAM,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAa3D","debugId":null}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":["file:///Users/eliasstevenson/Desktop/Projects/clawboard/app/leaderboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport type { ChangeEvent } from \"react\";\nimport { useEffect, useState } from \"react\";\n\nimport { LeaderboardTable } from \"@/components/LeaderboardTable\";\nimport { LeaderboardCategory, LeaderboardEntry, LeaderboardPeriod } from \"@/lib/types\";\n\nconst CATEGORIES: LeaderboardCategory[] = [\"tokens\", \"cost\", \"messages\", \"sessions\", \"streak\"];\nconst PERIODS: LeaderboardPeriod[] = [\"24h\", \"7d\", \"30d\", \"all\"];\n\ninterface LeaderboardResponse {\n  entries: LeaderboardEntry[];\n}\n\nexport default function LeaderboardPage() {\n  const [category, setCategory] = useState<LeaderboardCategory>(\"tokens\");\n  const [period, setPeriod] = useState<LeaderboardPeriod>(\"30d\");\n  const [entries, setEntries] = useState<LeaderboardEntry[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const loadLeaderboard = async () => {\n      setLoading(true);\n      setError(null);\n\n      try {\n        const response = await fetch(`/api/leaderboard?category=${category}&period=${period}`, {\n          cache: \"no-store\",\n        });\n\n        if (!response.ok) {\n          const body = (await response.json()) as { error?: string };\n          throw new Error(body.error ?? \"Unable to load leaderboard\");\n        }\n\n        const data = (await response.json()) as LeaderboardResponse;\n        setEntries(data.entries);\n      } catch (loadError: unknown) {\n        const message = loadError instanceof Error ? loadError.message : \"Unable to load leaderboard\";\n        setError(message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadLeaderboard();\n  }, [category, period]);\n\n  return (\n    <main className=\"mx-auto min-h-screen w-full max-w-6xl px-5 py-10 md:px-8 md:py-14\">\n      <header className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n        <div>\n          <p className=\"text-xs uppercase tracking-[0.2em] text-[color:var(--text-muted)]\">Global Leaderboard</p>\n          <h1 className=\"mt-1 text-2xl font-semibold\">Community rankings</h1>\n        </div>\n\n        <Link\n          href=\"/dashboard\"\n          className=\"self-start rounded-xl border border-[color:var(--border)] px-3 py-2 text-sm text-[color:var(--text-muted)] transition hover:text-white focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-400 md:self-auto\"\n        >\n          Back to Dashboard\n        </Link>\n      </header>\n\n      <section className=\"mt-6 grid gap-4 rounded-2xl border border-[color:var(--border)] bg-[color:var(--bg-secondary)] p-4 md:grid-cols-2 md:p-5\">\n        <label className=\"text-sm text-[color:var(--text-muted)]\">\n          Category\n          <select\n            value={category}\n            onChange={(event: ChangeEvent<HTMLSelectElement>) =>\n              setCategory(event.target.value as LeaderboardCategory)\n            }\n            className=\"mt-2 block w-full rounded-lg border border-[color:var(--border)] bg-black/20 px-3 py-2 text-sm text-white outline-none transition focus:border-emerald-400 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-400\"\n          >\n            {CATEGORIES.map((option) => (\n              <option key={option} value={option}>\n                {option}\n              </option>\n            ))}\n          </select>\n        </label>\n\n        <label className=\"text-sm text-[color:var(--text-muted)]\">\n          Period\n          <select\n            value={period}\n            onChange={(event: ChangeEvent<HTMLSelectElement>) =>\n              setPeriod(event.target.value as LeaderboardPeriod)\n            }\n            className=\"mt-2 block w-full rounded-lg border border-[color:var(--border)] bg-black/20 px-3 py-2 text-sm text-white outline-none transition focus:border-emerald-400 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-400\"\n          >\n            {PERIODS.map((option) => (\n              <option key={option} value={option}>\n                {option}\n              </option>\n            ))}\n          </select>\n        </label>\n      </section>\n\n      <section className=\"mt-6\">\n        {loading ? (\n          <div className=\"rounded-2xl border border-[color:var(--border)] bg-[color:var(--bg-secondary)] p-8 text-sm text-[color:var(--text-muted)]\">\n            Loading leaderboard...\n          </div>\n        ) : error ? (\n          <div className=\"rounded-lg bg-rose-900/35 px-3 py-2 text-sm text-rose-200\">{error}</div>\n        ) : (\n          <LeaderboardTable entries={entries} category={category} />\n        )}\n      </section>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAEA;AANA;;;;;AASA,MAAM,aAAoC;IAAC;IAAU;IAAQ;IAAY;IAAY;CAAS;AAC9F,MAAM,UAA+B;IAAC;IAAO;IAAM;IAAO;CAAM;AAMjD,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAsB;IAC9D,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAoB;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAqB,EAAE;IAC7D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,MAAM,kBAAkB;YACtB,WAAW;YACX,SAAS;YAET,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,CAAC,0BAA0B,EAAE,SAAS,QAAQ,EAAE,QAAQ,EAAE;oBACrF,OAAO;gBACT;gBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,OAAQ,MAAM,SAAS,IAAI;oBACjC,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;gBAChC;gBAEA,MAAM,OAAQ,MAAM,SAAS,IAAI;gBACjC,WAAW,KAAK,OAAO;YACzB,EAAE,OAAO,WAAoB;gBAC3B,MAAM,UAAU,qBAAqB,QAAQ,UAAU,OAAO,GAAG;gBACjE,SAAS;YACX,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;QAAU;KAAO;IAErB,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAO,WAAU;;kCAChB,8OAAC;;0CACC,8OAAC;gCAAE,WAAU;0CAAoE;;;;;;0CACjF,8OAAC;gCAAG,WAAU;0CAA8B;;;;;;;;;;;;kCAG9C,8OAAC,uKAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;0BAKH,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;wBAAM,WAAU;;4BAAyC;0CAExD,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,QACT,YAAY,MAAM,MAAM,CAAC,KAAK;gCAEhC,WAAU;0CAET,WAAW,GAAG,CAAC,CAAC,uBACf,8OAAC;wCAAoB,OAAO;kDACzB;uCADU;;;;;;;;;;;;;;;;kCAOnB,8OAAC;wBAAM,WAAU;;4BAAyC;0CAExD,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,QACT,UAAU,MAAM,MAAM,CAAC,KAAK;gCAE9B,WAAU;0CAET,QAAQ,GAAG,CAAC,CAAC,uBACZ,8OAAC;wCAAoB,OAAO;kDACzB;uCADU;;;;;;;;;;;;;;;;;;;;;;0BAQrB,8OAAC;gBAAQ,WAAU;0BAChB,wBACC,8OAAC;oBAAI,WAAU;8BAA4H;;;;;2BAGzI,sBACF,8OAAC;oBAAI,WAAU;8BAA6D;;;;;yCAE5E,8OAAC,mJAAgB;oBAAC,SAAS;oBAAS,UAAU;;;;;;;;;;;;;;;;;AAKxD","debugId":null}}]
}