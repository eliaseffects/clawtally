(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[907],{25:(e,a,t)=>{Promise.resolve().then(t.bind(t,4643))},63:(e,a,t)=>{"use strict";var r=t(7260);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})},4643:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var r=t(5155),s=t(2619),i=t.n(s),l=t(63),o=t(2115);function n(){var e;let a=(0,l.useParams)(),t=(0,l.useRouter)(),s=(null!=(e=null==a?void 0:a.code)?e:"").toUpperCase(),[n,c]=(0,o.useState)("claiming"),[u,d]=(0,o.useState)("Claiming this OpenClaw pairing code...");return(0,o.useEffect)(()=>{(async()=>{if(!s){c("failed"),d("Missing pairing code.");return}try{let a=await fetch("/api/pair/claim",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:s})}),r=await a.json();if(!a.ok||!r.success||!r.anonymousToken){var e;c("failed"),d(null!=(e=r.error)?e:"Unable to claim pairing code.");return}localStorage.setItem("clawboard.token",r.anonymousToken),r.gatewayUrl&&localStorage.setItem("clawboard.gatewayUrl",r.gatewayUrl),localStorage.removeItem("clawboard.apiKey"),c("success"),d("Connected. Redirecting to your dashboard..."),setTimeout(()=>{t.push("/dashboard")},500)}catch(e){c("failed"),d("Network error while claiming pairing code.")}})()},[s,t]),(0,r.jsx)("main",{className:"mx-auto flex min-h-screen w-full max-w-3xl items-center justify-center px-5 py-10 md:px-8",children:(0,r.jsxs)("section",{className:"w-full max-w-xl rounded-3xl border border-[color:var(--border)] bg-[color:var(--bg-secondary)] p-6 text-center md:p-8",children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-[color:var(--text-muted)]",children:"Pairing"}),(0,r.jsx)("h1",{className:"mt-3 text-2xl font-semibold",children:s||"Pair Code"}),(0,r.jsx)("p",{className:"mt-2 text-lg text-white",children:"success"===n?"Pairing Complete":"failed"===n?"Pairing Unavailable":"Claiming Pair Code"}),(0,r.jsx)("p",{className:"mt-4 text-sm text-[color:var(--text-muted)]",children:u}),"failed"===n?(0,r.jsx)(i(),{href:"/",className:"mt-6 inline-flex rounded-xl bg-emerald-400 px-4 py-2 text-sm font-semibold text-black transition hover:bg-emerald-300 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-400",children:"Back Home"}):null]})})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=25)),_N_E=e.O()}]);