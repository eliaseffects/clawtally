(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[410],{4140:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>x});var t=a(5155),o=a(2619),l=a.n(o),s=a(2115);function d(e){let{entries:r,category:a}=e;return 0===r.length?(0,t.jsx)("article",{className:"rounded-2xl border border-[color:var(--border)] bg-[color:var(--bg-secondary)] p-6 text-sm text-[color:var(--text-muted)]",children:"No shared profiles yet. Toggle sharing from your dashboard to seed the leaderboard."}):(0,t.jsx)("article",{className:"overflow-hidden rounded-2xl border border-[color:var(--border)] bg-[color:var(--bg-secondary)]",children:(0,t.jsxs)("table",{className:"w-full border-collapse text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-[color:var(--border)] text-left text-xs uppercase tracking-[0.16em] text-[color:var(--text-muted)]",children:[(0,t.jsx)("th",{className:"px-4 py-3",children:"Rank"}),(0,t.jsx)("th",{className:"px-4 py-3",children:"User"}),(0,t.jsx)("th",{className:"px-4 py-3",children:"Value"})]})}),(0,t.jsx)("tbody",{children:r.map(e=>{var r,o;return(0,t.jsxs)("tr",{className:"border-b border-[color:var(--border)] last:border-b-0",children:[(0,t.jsxs)("td",{className:"px-4 py-3 font-[family-name:var(--font-mono)]",children:["#",e.rank]}),(0,t.jsx)("td",{className:"px-4 py-3",children:e.claimed&&null!=(r=e.identity)?r:e.anonymousId}),(0,t.jsx)("td",{className:"px-4 py-3 font-[family-name:var(--font-mono)] text-[color:var(--text-muted)]",children:(o=e.value,"cost"===a?Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(o):Intl.NumberFormat("en-US").format(o))})]},"".concat(e.anonymousId,"-").concat(e.rank))})})]})})}let c=["tokens","cost","messages","sessions","streak"],n=["24h","7d","30d","all"];function x(){let[e,r]=(0,s.useState)("tokens"),[a,o]=(0,s.useState)("30d"),[x,i]=(0,s.useState)([]),[m,b]=(0,s.useState)(!0),[u,h]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async()=>{b(!0),h(null);try{let t=await fetch("/api/leaderboard?category=".concat(e,"&period=").concat(a),{cache:"no-store"});if(!t.ok){var r;let e=await t.json();throw Error(null!=(r=e.error)?r:"Unable to load leaderboard")}let o=await t.json();i(o.entries)}catch(e){h(e instanceof Error?e.message:"Unable to load leaderboard")}finally{b(!1)}})()},[e,a]),(0,t.jsxs)("main",{className:"mx-auto min-h-screen w-full max-w-6xl px-5 py-10 md:px-8 md:py-14",children:[(0,t.jsxs)("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-[color:var(--text-muted)]",children:"Global Leaderboard"}),(0,t.jsx)("h1",{className:"mt-1 text-2xl font-semibold",children:"Community rankings"})]}),(0,t.jsx)(l(),{href:"/dashboard",className:"rounded-xl border border-[color:var(--border)] px-3 py-2 text-sm text-[color:var(--text-muted)] transition hover:text-white",children:"Back to Dashboard"})]}),(0,t.jsxs)("section",{className:"mt-6 grid gap-3 rounded-2xl border border-[color:var(--border)] bg-[color:var(--bg-secondary)] p-4 md:grid-cols-2",children:[(0,t.jsxs)("label",{className:"text-sm text-[color:var(--text-muted)]",children:["Category",(0,t.jsx)("select",{value:e,onChange:e=>r(e.target.value),className:"mt-2 block w-full rounded-lg border border-[color:var(--border)] bg-black/20 px-3 py-2 text-sm text-white outline-none focus:border-emerald-400",children:c.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("label",{className:"text-sm text-[color:var(--text-muted)]",children:["Period",(0,t.jsx)("select",{value:a,onChange:e=>o(e.target.value),className:"mt-2 block w-full rounded-lg border border-[color:var(--border)] bg-black/20 px-3 py-2 text-sm text-white outline-none focus:border-emerald-400",children:n.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]}),(0,t.jsx)("section",{className:"mt-6",children:m?(0,t.jsx)("div",{className:"rounded-2xl border border-[color:var(--border)] bg-[color:var(--bg-secondary)] p-8 text-sm text-[color:var(--text-muted)]",children:"Loading leaderboard..."}):u?(0,t.jsx)("div",{className:"rounded-lg bg-rose-900/35 px-3 py-2 text-sm text-rose-200",children:u}):(0,t.jsx)(d,{entries:x,category:e})})]})}},8830:(e,r,a)=>{Promise.resolve().then(a.bind(a,4140))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=8830)),_N_E=e.O()}]);