(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[410],{4140:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>h});var s=r(5155),t=r(2619),l=r.n(t),o=r(2115);let c=(e,a)=>"cost"===e?Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(a):Intl.NumberFormat("en-US").format(a),n=e=>1===e?"bg-[color:var(--coral-soft)] text-[color:var(--coral-bright)] border-[color:var(--coral-bright)]":2===e?"bg-[color:var(--cyan-soft)] text-[color:var(--cyan-bright)] border-[color:var(--cyan-bright)]":3===e?"bg-[#263357] text-[#a7b6ff] border-[#5a6bb1]":"bg-[color:var(--bg-surface)] text-[color:var(--text-secondary)] border-[color:var(--border-subtle)]";function d(e){let{entries:a,category:r}=e;return 0===a.length?(0,s.jsx)("article",{className:"oc-panel p-6 text-sm text-[color:var(--text-secondary)]",children:"No shared profiles yet. Enable sharing from your dashboard to appear here."}):(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("article",{className:"oc-panel divide-y divide-[color:var(--border-subtle)] overflow-hidden md:hidden",children:a.map(e=>{var a;return(0,s.jsxs)("div",{className:"px-4 py-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,s.jsxs)("div",{className:"rounded-full border px-2 py-1 text-xs font-semibold ".concat(n(e.rank)),children:["#",e.rank]}),(0,s.jsx)("p",{className:"font-[family-name:var(--font-mono)] text-sm text-[color:var(--text-secondary)]",children:c(r,e.value)})]}),(0,s.jsx)("p",{className:"mt-3 text-sm",children:e.claimed&&null!=(a=e.identity)?a:e.anonymousId})]},"".concat(e.anonymousId,"-").concat(e.rank))})}),(0,s.jsx)("article",{className:"oc-panel overflow-hidden",children:(0,s.jsxs)("table",{className:"hidden w-full border-collapse text-sm md:table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-[color:var(--border-subtle)] text-left text-xs uppercase tracking-[0.16em] text-[color:var(--text-muted)]",children:[(0,s.jsx)("th",{className:"px-4 py-3",children:"Rank"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"User"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Value"})]})}),(0,s.jsx)("tbody",{children:a.map(e=>{var a;return(0,s.jsxs)("tr",{className:"border-b border-[color:var(--border-subtle)] transition hover:bg-white/[0.02] last:border-b-0",children:[(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsxs)("span",{className:"rounded-full border px-2 py-1 text-xs font-semibold ".concat(n(e.rank)),children:["#",e.rank]})}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.claimed&&null!=(a=e.identity)?a:e.anonymousId}),(0,s.jsx)("td",{className:"px-4 py-3 font-[family-name:var(--font-mono)] text-[color:var(--text-secondary)]",children:c(r,e.value)})]},"".concat(e.anonymousId,"-").concat(e.rank))})})]})})]})}let i=["tokens","cost","messages","sessions","streak"],m=["24h","7d","30d","all"],x={tokens:"Tokens",cost:"Cost",messages:"Messages",sessions:"Sessions",streak:"Streak"};function h(){let[e,a]=(0,o.useState)("tokens"),[r,t]=(0,o.useState)("30d"),[c,n]=(0,o.useState)([]),[h,b]=(0,o.useState)(!0),[p,u]=(0,o.useState)(null);return(0,o.useEffect)(()=>{(async()=>{b(!0),u(null);try{let s=await fetch("/api/leaderboard?category=".concat(e,"&period=").concat(r),{cache:"no-store"});if(!s.ok){var a;let e=await s.json();throw Error(null!=(a=e.error)?a:"Unable to load leaderboard")}let t=await s.json();n(t.entries)}catch(e){u(e instanceof Error?e.message:"Unable to load leaderboard")}finally{b(!1)}})()},[e,r]),(0,s.jsxs)("main",{className:"oc-shell",children:[(0,s.jsxs)("header",{className:"flex flex-col gap-4 md:flex-row md:items-end md:justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"oc-kicker",children:"Community Telemetry"}),(0,s.jsx)("h1",{className:"mt-1 text-4xl font-semibold md:text-5xl",children:"Leaderboard"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-[color:var(--text-secondary)]",children:"Rankings are read-only snapshots from users who explicitly enabled sharing."})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,s.jsx)(l(),{href:"/",className:"oc-nav-link",children:"Home"}),(0,s.jsx)(l(),{href:"/dashboard",className:"oc-nav-link",children:"Dashboard"})]})]}),(0,s.jsxs)("section",{className:"oc-panel mt-7 grid gap-4 p-4 md:grid-cols-2 md:p-5",children:[(0,s.jsxs)("label",{className:"text-sm text-[color:var(--text-secondary)]",children:["Category",(0,s.jsx)("select",{value:e,onChange:e=>a(e.target.value),className:"oc-select mt-2",children:i.map(e=>(0,s.jsx)("option",{value:e,children:x[e]},e))})]}),(0,s.jsxs)("label",{className:"text-sm text-[color:var(--text-secondary)]",children:["Period",(0,s.jsx)("select",{value:r,onChange:e=>t(e.target.value),className:"oc-select mt-2",children:m.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]})]}),(0,s.jsx)("section",{className:"mt-6",children:h?(0,s.jsx)("div",{className:"oc-panel p-8 text-sm text-[color:var(--text-secondary)]",children:"Loading leaderboard..."}):p?(0,s.jsx)("div",{className:"rounded-lg border border-[color:var(--border-strong)] bg-[color:var(--coral-soft)] px-3 py-2 text-sm text-rose-100",children:p}):(0,s.jsx)(d,{entries:c,category:e})})]})}},8830:(e,a,r)=>{Promise.resolve().then(r.bind(r,4140))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=8830)),_N_E=e.O()}]);