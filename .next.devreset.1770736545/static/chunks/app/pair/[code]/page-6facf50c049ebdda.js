(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[907],{25:(e,a,t)=>{Promise.resolve().then(t.bind(t,4643))},63:(e,a,t)=>{"use strict";var r=t(7260);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})},4643:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var r=t(5155),s=t(2619),i=t.n(s),l=t(63),o=t(2115);function n(){var e;let a=(0,l.useParams)(),t=(0,l.useRouter)(),s=(null!=(e=null==a?void 0:a.code)?e:"").toUpperCase(),[n,c]=(0,o.useState)("claiming"),[m,u]=(0,o.useState)("Claiming this OpenClaw pairing code...");return(0,o.useEffect)(()=>{(async()=>{if(!s){c("failed"),u("Missing pairing code.");return}try{let a=await fetch("/api/pair/claim",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:s})}),r=await a.json();if(!a.ok||!r.success||!r.anonymousToken){var e;c("failed"),u(null!=(e=r.error)?e:"Unable to claim pairing code.");return}localStorage.setItem("clawboard.token",r.anonymousToken),r.gatewayUrl&&localStorage.setItem("clawboard.gatewayUrl",r.gatewayUrl),localStorage.removeItem("clawboard.apiKey"),c("success"),u("Connected. Redirecting to your dashboard..."),setTimeout(()=>{t.push("/dashboard")},500)}catch(e){c("failed"),u("Network error while claiming pairing code.")}})()},[s,t]),(0,r.jsx)("main",{className:"oc-shell flex max-w-4xl items-center justify-center",children:(0,r.jsxs)("section",{className:"oc-panel w-full max-w-xl p-6 text-center md:p-8",children:[(0,r.jsx)("p",{className:"oc-kicker",children:"Pairing"}),(0,r.jsx)("h1",{className:"mt-3 text-4xl font-semibold",children:s||"Pair Code"}),(0,r.jsx)("p",{className:"mt-3 text-xl font-medium",children:"success"===n?"Pairing Complete":"failed"===n?"Pairing Unavailable":"Claiming Pair Code"}),(0,r.jsx)("p",{className:"mt-3 text-sm text-[color:var(--text-secondary)]",children:m}),(0,r.jsx)("p",{className:"mt-4 text-xs text-[color:var(--text-muted)]",children:"ClawBoard only reads usage telemetry after pairing. No commands are sent to your agent."}),"failed"===n?(0,r.jsx)(i(),{href:"/",className:"oc-button-primary mt-6 px-4 py-2 text-sm",children:"Back Home"}):null]})})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=25)),_N_E=e.O()}]);